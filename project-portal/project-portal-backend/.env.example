# CarbonScribe Project Portal Backend - Environment Configuration

# Server Configuration
PORT=8080
WEBSOCKET_PORT=8081
SHUTDOWN_TIMEOUT=30s

# Database Configuration
DATABASE_URL=postgres://user:password@localhost:5432/carbonscribe?sslmode=disable

# AWS Configuration
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_access_key_id
AWS_SECRET_ACCESS_KEY=your_secret_access_key

# AWS SES Configuration
AWS_SES_FROM_EMAIL=noreply@carbonscribe.com

# AWS SNS Configuration
AWS_SNS_SMS_SENDER_ID=CarbonScribe

# AWS DynamoDB Configuration (leave empty to use default endpoint)
AWS_DYNAMODB_ENDPOINT=

# AWS API Gateway WebSocket Configuration
AWS_APIGW_WEBSOCKET_URL=wss://your-api-id.execute-api.us-east-1.amazonaws.com/production
AWS_APIGW_MANAGEMENT_URL=https://your-api-id.execute-api.us-east-1.amazonaws.com/production

# AWS EventBridge Configuration
AWS_EVENTBRIDGE_BUS_ARN=
AWS_EVENTBRIDGE_SOURCE=carbonscribe.notifications

# Notification Configuration
NOTIFICATION_MAX_RETRIES=3
NOTIFICATION_RETRY_BASE_DELAY=1s
NOTIFICATION_MAX_QUEUED_MESSAGES=100
NOTIFICATION_DLQ_URL=https://sqs.us-east-1.amazonaws.com/your-account/notification-dlq
NOTIFICATION_DEFAULT_QUIET_START=22:00
NOTIFICATION_DEFAULT_QUIET_END=08:00

# JWT Configuration (for WebSocket authentication)
JWT_SECRET=your_jwt_secret_key_here

# DynamoDB Table Names (can be customized per environment)
DYNAMODB_TABLE_TEMPLATES=NotificationTemplates
DYNAMODB_TABLE_RULES=NotificationRules
DYNAMODB_TABLE_PREFERENCES=UserPreferences
DYNAMODB_TABLE_CONNECTIONS=WebSocketConnections
DYNAMODB_TABLE_DELIVERY_LOGS=DeliveryLogs

# Logging
LOG_LEVEL=info
LOG_FORMAT=json
# Copy this file to .env and fill in your actual values

# ============================================================================
# Server Configuration
# ============================================================================
SERVER_HOST=0.0.0.0
SERVER_PORT=8080
SERVER_MODE=development  # development, production

# ============================================================================
# Database Configuration (PostgreSQL with PostGIS)
# ============================================================================
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USER=postgres
DATABASE_PASSWORD=your_secure_password_here
DATABASE_DBNAME=carbonscribe_portal
DATABASE_SSLMODE=disable  # disable, require, verify-ca, verify-full
DATABASE_MAX_OPEN_CONNS=25
DATABASE_MAX_IDLE_CONNS=5
DATABASE_CONN_MAX_LIFETIME=5m

# ============================================================================
# Mapbox Configuration
# ============================================================================
# Get your Mapbox access token from https://account.mapbox.com/
MAPS_MAPBOX_ACCESS_TOKEN=pk.your_mapbox_access_token_here
MAPS_MAPBOX_STYLE_URL=mapbox://styles/mapbox/satellite-v9

# ============================================================================
# Google Maps Configuration (Optional - Fallback Provider)
# ============================================================================
# Get your Google Maps API key from https://console.cloud.google.com/
MAPS_GOOGLE_MAPS_API_KEY=your_google_maps_api_key_here

# ============================================================================
# Maps General Configuration
# ============================================================================
MAPS_DEFAULT_PROVIDER=mapbox  # mapbox or google
MAPS_TILE_CACHE_TTL=24h
MAPS_MAX_TILE_CACHE_SIZE=1073741824  # 1GB in bytes
MAPS_STATIC_MAP_WIDTH=800
MAPS_STATIC_MAP_HEIGHT=600
MAPS_DEFAULT_ZOOM_LEVEL=10
MAPS_MAX_CONCURRENT_REQUESTS=10

# ============================================================================
# Logging Configuration
# ============================================================================
LOGGING_LEVEL=info  # debug, info, warn, error
LOGGING_FORMAT=json  # json, console
LOGGING_OUTPUT_PATH=stdout

# ============================================================================
# API Keys & Secrets
# ============================================================================
JWT_SECRET=your_jwt_secret_here_change_in_production
API_KEY=your_api_key_here_change_in_production

# ============================================================================
# CORS Configuration
# ============================================================================
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization
CORS_MAX_AGE=86400

# ============================================================================
# Feature Flags
# ============================================================================
ENABLE_GEOFENCE_MONITORING=true
ENABLE_MAP_TILE_CACHING=true
ENABLE_AUTOMATIC_VALIDATION=true

# ============================================================================
# Performance Configuration
# ============================================================================
MAX_POLYGON_VERTICES=10000
SPATIAL_QUERY_TIMEOUT=30s
GEOMETRY_SIMPLIFICATION_TOLERANCE=0.0001

# ============================================================================
# External Services
# ============================================================================
# IPFS/Pinata for document storage (optional)
IPFS_GATEWAY_URL=https://gateway.pinata.cloud
PINATA_JWT=your_pinata_jwt_here

# Stellar Network Configuration (for future blockchain integration)
STELLAR_NETWORK=testnet  # testnet, mainnet
STELLAR_HORIZON_URL=https://horizon-testnet.stellar.org
